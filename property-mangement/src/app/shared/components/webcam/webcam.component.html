<div class="webcam-wrapper border-0">

  <h3 class="title">Take photo</h3>

  <div class="content">
    
    <div class="capture-section">

      <div class="video-container" *ngIf="!error">

        <video [class.show]="!isCaptured" [class.hide]="isCaptured" #video id="video" [width]="WIDTH" [height]="HEIGHT" autoplay></video>

        <canvas [class.show]="isCaptured" [class.hide]="!isCaptured" #canvas id="canvas" [width]="WIDTH" [height]="HEIGHT"></canvas>

        <button class="capture-btn" *ngIf="!isCaptured" (click)="capture()">

          <svg width="26" height="26" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 23H22C22.5304 23 23.0391 22.7893 23.4142 22.4142C23.7893 22.0391 24 21.5304 24 21C24 20.7348 24.1054 20.4804 24.2929 20.2929C24.4804 20.1054 24.7348 20 25 20H31C31.2652 20 31.5196 20.1054 31.7071 20.2929C31.8946 20.4804 32 20.7348 32 21C32 21.5304 32.2107 22.0391 32.5858 22.4142C32.9609 22.7893 33.4696 23 34 23H35C35.5304 23 36.0391 23.2107 36.4142 23.5858C36.7893 23.9609 37 24.4696 37 25V34C37 34.5304 36.7893 35.0391 36.4142 35.4142C36.0391 35.7893 35.5304 36 35 36H21C20.4696 36 19.9609 35.7893 19.5858 35.4142C19.2107 35.0391 19 34.5304 19 34V25C19 24.4696 19.2107 23.9609 19.5858 23.5858C19.9609 23.2107 20.4696 23 21 23Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M25 29C25 29.7956 25.3161 30.5587 25.8787 31.1213C26.4413 31.6839 27.2044 32 28 32C28.7956 32 29.5587 31.6839 30.1213 31.1213C30.6839 30.5587 31 29.7956 31 29C31 28.2044 30.6839 27.4413 30.1213 26.8787C29.5587 26.3161 28.7956 26 28 26C27.2044 26 26.4413 26.3161 25.8787 26.8787C25.3161 27.4413 25 28.2044 25 29Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="28" cy="28" r="27" fill="black" fill-opacity="0.2" stroke="#282828" stroke-width="2"/>
            </svg>
            
        </button>

      </div>

      <!-- Captured Image Preview -->
      <div class="thumbnail-container" *ngIf="captures.length">

        <ul class="list-unstyled">

          <li *ngFor="let src of captures; let idx = index" (click)="setPhoto(idx)">

            <img [src]="src" class="thumbnail" />

          </li>

        </ul>

      </div>

    </div>

  </div>

  <div class="actions">

    <button class="btn btn-success px-5" *ngIf="isCaptured" (click)="submit()">Save</button>

    <button class="btn btn-outline-success" *ngIf="isCaptured" (click)="removeCurrent()">Take Another</button>

  </div>
  
  <p class="instructions">Show your face in the top rectangular box and display your ID in the bottom rectangular box</p>

</div>
