rules:
  - id: angular-project-structure
    languages: [typescript]   # üëà Required field
    patterns:
      - pattern-either:
          # ‚ùå Components inside core/ (should be in shared/)
          - pattern: $FILEPATH =~ "src/app/_core/.*component\.ts"

          # ‚ùå Services/Guards inside shared/ (should be in core/)
          - pattern: $FILEPATH =~ "src/app/shared/.*(service|guard)\.ts"

    message: >
      ‚ùå Angular project structure violation:
      - Components should be in `shared/`
      - Core services/guards should be in `_core/`

    severity: ERROR
